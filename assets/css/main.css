/* Friends Page - Main Styles (scoped by variables to match Stellar theme) */
:root {
  /* Map to theme variables for full consistency */
  --friends-card-bg: var(--card);
  --friends-card-border: var(--block-border);
  --friends-card-hover: var(--block-hover, rgba(0,0,0,0.03));
  --friends-text: var(--text);
  --friends-text-secondary: var(--text-p2);
  --friends-accent: var(--theme-link);
  --friends-shadow: var(--theme-link-opa);
}

/* Layout - Grid System */
.grid-box {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
  gap: 12px;
}
.grid-cell { list-style: none; }

/* Friends Page Wrapper */
.friends-page {
  margin: 1rem 0 2rem;
}
.friends-page h2 {
  font-size: 1.25rem;
  margin: 1rem 0 0.75rem;
  color: var(--friends-text);
}
.friends-page p,
.friends-page li {
  color: var(--friends-text-secondary);
}
.friends-apply {
  background: var(--friends-card-bg);
  border: 1px solid var(--friends-card-border);
  border-radius: 14px;
  padding: 16px;
  margin-bottom: 16px;
}
.friends-apply .rules {
  padding-left: 1.25rem;
}

/* Friend Card */
.friend-card {
  display: flex;
  align-items: center;
  gap: 12px;
  background: var(--friends-card-bg);
  border: 1px solid var(--friends-card-border);
  border-radius: 14px;
  padding: 12px;
  text-decoration: none;
  color: var(--friends-text);
  box-shadow: 0 2px 10px -6px rgba(0, 0, 0, 0.08);
  transition: all 0.2s ease;
}
.friend-card:hover {
  transform: translateY(-1px);
  border-color: var(--friends-accent);
  box-shadow: 0 8px 24px -10px var(--friends-shadow);
}
.friend-card .avatar {
  width: 44px;
  height: 44px;
  border-radius: 50%;
  object-fit: cover;
  background: var(--site-bg);
  flex: 0 0 44px;
}
.friend-card .meta {
  overflow: hidden;
}
.friend-card .friend-name {
  font-weight: 600;
  color: var(--friends-text);
  line-height: 1.2;
}
.friend-card .friend-desc {
  font-size: 0.875rem;
  line-height: 1.4;
  color: var(--friends-text-secondary);
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Recent Comments */
.rc-list { list-style: none; margin: 0; padding: 0; }
.rc-item { display: flex; align-items: center; gap: 8px; padding: 8px 0; border-bottom: 1px dashed var(--friends-card-border); }
.rc-item a { color: var(--friends-text); text-decoration: none; }
.rc-item a:hover { color: var(--friends-accent); text-decoration: underline; }
.rc-time { margin-left: auto; color: var(--friends-text-secondary); font-size: 12px; white-space: nowrap; }
.rc-empty { color: var(--friends-text-secondary); font-style: italic; }

/* Lazy Image */
img.lazy { filter: blur(6px); transition: filter 0.25s ease; }
img.lazy.loaded { filter: blur(0); }

/* Responsive Tweaks */
@media (max-width: 480px) {
  .grid-box { grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 10px; }
  .friend-card { padding: 10px; }
  .friend-card .avatar { width: 40px; height: 40px; }
}